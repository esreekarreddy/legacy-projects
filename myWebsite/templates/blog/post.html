{% extends 'base.html' %}

{% block title %}{{ post.title }} | Uncharted Fragments{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/blog/blog.css') }}">
{% endblock %}

{% block content %}
<!-- Include welcome overlay for first-time visitors -->
{% include 'blog/welcome-overlay.html' %}

<article class="blog-post">
    <div class="post-container">
        <div class="post-header">
            <div class="post-meta">
                <a href="{{ url_for('blog_index') }}" class="back-to-blog">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M11.03 2.59a1.5 1.5 0 011.94 0l7.5 6.363A1.5 1.5 0 0121 10.244V19.5a.5 1.5 0 01-1.5 1.5h-5.375a.75.75 0 01-.75-.75V14h-3v5.25a.75.75 0 01-.75.75H4.5A1.5 1.5 0 013 19.5V10.244a1.5 1.5 0 011.03-1.3A1.5 1.5 0 0111.03 2.59z"></path></svg>
                    Back to Blog
                </a>
                <span class="post-date">Published on {{ post.date }}</span>
                {% if post.author %}
                <span class="post-author">By {{ post.author }}</span>
                {% else %}
                <span class="post-author">By Anonymous</span>
                {% endif %}
            </div>
            <h1 class="post-title">{{ post.title }}</h1>
            <!-- Added decorative elements -->
            <div class="post-header-graphics">
                <div class="graphic-element header-dots"></div>
                <div class="graphic-element header-line"></div>
                <div class="graphic-element header-circle"></div>
            </div>
        </div>

        <div class="post-content">
            {{ post.content | safe }}
        </div>

        <div class="post-footer">
            <div class="post-tags">
                {% for tag in post.tags %}
                <span class="post-tag">{{ tag }}</span>
                {% endfor %}
            </div>
            <div class="share-menu">
                <button class="share-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M15.22 4.93a.75.75 0 011.06 0l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H7.75a.75.75 0 010-1.5h9.69l-2.22-2.22a.75.75 0 010-1.06zm-7.5 11.13a.75.75 0 11-1.06 0l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5a.75.75 0 111.06 1.06L5.5 11.38h9.69a.75.75 0 010 1.5H5.5l2.22 2.22a.75.75 0 010 1.06z" clip-rule="evenodd"></path></svg>
                    Share
                </button>
                <div class="share-options">
                    <a href="#" class="share-option">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.67l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg>
                        Twitter
                    </a>
                    <a href="#" class="share-option">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.477 2 2 6.477 2 12c0 5.013 3.693 9.153 8.505 9.876V14.65H8.031v-2.629h2.474v-1.749c0-2.896 1.411-4.167 3.818-4.167 1.153 0 1.762.085 2.051.124v2.294h-1.642c-1.022 0-1.372.524-1.372 1.59v1.908h2.995l-.406 2.629h-2.588v7.178C18.235 21.236 22 17.062 22 12c0-5.523-4.477-10-10-10z"></path></svg>
                        Facebook
                    </a>
                    <a href="#" class="share-option">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M18.335 18.339H15.67v-4.177c0-.996-.02-2.278-1.39-2.278-1.389 0-1.601 1.084-1.601 2.205v4.25h-2.666V9.75h2.56v1.17h.035c.358-.674 1.228-1.387 2.528-1.387 2.7 0 3.2 1.778 3.2 4.091v4.715zM7.003 8.575a1.546 1.546 0 01-1.548-1.549 1.548 1.548 0 111.547 1.549zm1.336 9.764H5.666V9.75H8.34v8.589zM19.67 3H4.329C3.593 3 3 3.58 3 4.297v15.406C3 20.42 3.594 21 4.328 21h15.338C20.4 21 21 20.42 21 19.703V4.297C21 3.58 20.4 3 19.666 3h.003z"></path></svg>
                        LinkedIn
                    </a>
                </div>
            </div>
        </div>
    </div>
</article>

<section class="comments-section">
    <div class="post-container">
        <div class="comments-header">
            <div class="comments-count">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path fill-rule="evenodd" d="M4.848 2.771A49.144 49.144 0 0112 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 01-3.476.383.39.39 0 00-.297.17l-2.755 4.133a.75.75 0 01-1.248 0l-2.755-4.133a.39.39 0 00-.297-.17 48.9 48.9 0 01-3.476-.383c-1.978-.292-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97z" clip-rule="evenodd"></path>
                </svg>
                <h2>{{ comments|length }} Comment{% if comments|length != 1 %}s{% endif %}</h2>
            </div>
            <div class="comments-decoration">
                <div class="decoration-line"></div>
                <div class="decoration-dot"></div>
                <div class="decoration-line"></div>
            </div>
        </div>

        <div class="comment-form-container">
            <div class="form-header">
                <div class="form-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z" />
                    </svg>
                </div>
                <h3>Join the Conversation</h3>
            </div>

            <form class="comment-form">
                <div class="form-floating-row">
                    <div class="floating-input">
                        <input type="text" id="name" name="name" required>
                        <label for="name">Your Name</label>
                        <div class="input-focus-bg"></div>
                    </div>
                    <div class="floating-input">
                        <input type="email" id="email" name="email" required>
                        <label for="email">Email Address</label>
                        <div class="input-focus-bg"></div>
                        <small>Your email won't be published</small>
                    </div>
                </div>
                
                <div class="floating-input textarea-container">
                    <textarea id="comment" name="comment" rows="4" required></textarea>
                    <label for="comment">Your Thoughts</label>
                    <div class="input-focus-bg"></div>
                </div>
                
                <button type="submit" class="submit-comment-btn">
                    <span class="btn-text">Post Comment</span>
                    <span class="btn-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H8.5a.75.75 0 01.75.75v4.5a.75.75 0 01-.75.75H5.513l-2.886 2.77a.75.75 0 00.926.94l2.432-7.905h4.242a.75.75 0 00.75-.75V6.43a.75.75 0 00-.75-.75H6.012L3.045 3.102a.75.75 0 00-.926-.94l3.7-3.7 3.7 3.7a.75.75 0 00-.926.94L6.537 5.654a.75.75 0 01-.537.226h-.793l.116-.396a.75.75 0 00-.54-.92z" />
                        </svg>
                    </span>
                </button>
            </form>
        </div>

        <div class="comments-list">
            {% if comments %}
                {% for comment in comments %}
                <div class="comment-thread">
                    <div class="comment">
                        <div class="comment-avatar">
                            <div class="avatar-circle" data-author="{{ comment.author|default('Anonymous') }}">
                                {{ comment.author[0]|default('?')|upper }}
                            </div>
                        </div>
                        <div class="comment-content">
                            <div class="comment-header">
                                <div class="comment-author">{{ comment.author|default('Anonymous') }}</div>
                                <div class="comment-date">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                        <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 6a.75.75 0 00-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 000-1.5h-3.75V6z" clip-rule="evenodd" />
                                    </svg>
                                    {{ comment.date }}
                                </div>
                            </div>
                            <div class="comment-body">
                                <p>{{ comment.content }}</p>
                            </div>
                            <div class="comment-actions">
                                <button class="action-btn like-btn">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M7.493 18.75c-.425 0-.82-.236-.975-.632A7.48 7.48 0 016 15.375c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 012.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 00.322-1.672V3a.75.75 0 01.75-.75 2.25 2.25 0 012.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 01-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 00-1.423-.23h-.777zM2.331 10.977a11.969 11.969 0 00-.831 4.398 12 12 0 00.52 3.507c.26.85 1.084 1.368 1.973 1.368H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 01-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227z" />
                                    </svg>
                                    <span>Like</span>
                                </button>
                                <button class="action-btn reply-btn">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                        <path fill-rule="evenodd" d="M4.848 12.36a1.5 1.5 0 001.5 1.5h7.826l-1.926 1.875a1.5 1.5 0 102.112 2.13l4.5-4.5a1.5 1.5 0 000-2.12l-4.5-4.5a1.5 1.5 0 00-2.111 2.129l1.926 1.874H6.348a1.5 1.5 0 00-1.5 1.5v.063z" clip-rule="evenodd" />
                                    </svg>
                                    <span>Reply</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    v>
                    <!-- Sample nested replies for visual demonstration -->
                    {% if loop.index == 1 %}
                    <div class="comment-replies">
                        <div class="reply-line"></div>
                        <div class="comment">.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <div class="comment-avatar"> 2.25c-2.429 0-4.817.178-7.152.521C2.87 3.061 1.5 4.795 1.5 6.741v6.018c0 1.946 1.37 3.68 3.348 3.97.877.129 1.761.234 2.652.316V21a.75.75 0 001.28.53l4.184-4.183a.39.39 0 01.266-.112c2.006-.05 3.982-.22 5.922-.506 1.978-.29 3.348-2.023 3.348-3.97V6.741c0-1.947-1.37-3.68-3.348-3.97A49.145 49.145 0 0012 2.25zM8.25 8.625a1.125 1.125 0 100 2.25 1.125 1.125 0 000-2.25zm2.625 1.125a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875-1.125a1.125 1.125 0 100 2.25 1.125 1.125 0 000-2.25z" clip-rule="evenodd" />
                                <div class="avatar-circle" style="background-color: hsl(180, 70%, 60%)">R</div>
                            </div>
                            <div class="comment-content">
                                <div class="comment-header">is post!</p>
                                    <div class="comment-author">Reader</div>
                                    <div class="comment-date">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                            <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 6a.75.75 0 00-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 000-1.5h-3.75V6z" clip-rule="evenodd" />
                                        </svg>
                                        Just now
                                    </div>
                                </div>
                                <div class="comment-body">
                                    <p>Great point! I've been thinking about this topic a lot lately.</p>
                                </div>
                                <div class="comment-actions">
                                    <button class="action-btn like-btn">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M7.493 18.75c-.425 0-.82-.236-.975-.632A7.48 7.48 0 016 15.375c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 012.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 00.322-1.672V3a.75.75 0 01.75-.75 2.25 2.25 0 012.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 01-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 00-1.423-.23h-.777zM2.331 10.977a11.969 11.969 0 00-.831 4.398 12 12 0 00.52 3.507c.26.85 1.084 1.368 1.973 1.368H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 01-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227z" />
                                        </svg>
                                        <span>Like</span>
                                    </button> related posts -->
                                    <button class="action-btn reply-btn">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                            <path fill-rule="evenodd" d="M4.848 12.36a1.5 1.5 0 001.5 1.5h7.826l-1.926 1.875a1.5 1.5 0 102.112 2.13l4.5-4.5a1.5 1.5 0 000-2.12l-4.5-4.5a1.5 1.5 0 00-2.111 2.129l1.926 1.874H6.348a1.5 1.5 0 00-1.5 1.5v.063z" clip-rule="evenodd" />
                                        </svg>
                                        <span>Reply</span>
                                    </button>er interesting post that readers might enjoy...</p>
                                </div>ated-link">Read More →</a>
                            </div>
                        </div>d-card">
                    </div>="card-decoration">
                    {% endif %}"card-icon">🔍</div>
                </div>
                {% endfor %}cinating Content</h3>
            {% else %}rief excerpt from another fascinating post that expands on similar themes...</p>
            <div class="no-comments">lated-link">Read More →</a>
                <div class="no-comments-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path fill-rule="evenodd" d="M12 2.25c-2.429 0-4.817.178-7.152.521C2.87 3.061 1.5 4.795 1.5 6.741v6.018c0 1.946 1.37 3.68 3.348 3.97.877.129 1.761.234 2.652.316V21a.75.75 0 001.28.53l4.184-4.183a.39.39 0 01.266-.112c2.006-.05 3.982-.22 5.922-.506 1.978-.29 3.348-2.023 3.348-3.97V6.741c0-1.947-1.37-3.68-3.348-3.97A49.145 49.145 0 0012 2.25zM8.25 8.625a1.125 1.125 0 100 2.25 1.125 1.125 0 000-2.25zm2.625 1.125a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875-1.125a1.125 1.125 0 100 2.25 1.125 1.125 0 000-2.25z" clip-rule="evenodd" />
                    </svg>
                </div>                <h3>No Comments Yet</h3>                <p>Be the first to share your thoughts on this post!</p>                <div class="comment-prompt-decoration">                    <div class="decoration-arrow"></div>                </div>            </div>            {% endif %}        </div>    </div></section><section class="related-posts">    <div class="post-container">        <div class="section-header">            <h2>You might also like</h2>            <div class="related-underline"></div>        </div>        <div class="related-grid">            <!-- This would be populated with related posts -->            <div class="related-card">                <div class="card-decoration">                    <div class="card-icon">📖</div>                </div>                <h3>Another Interesting Post</h3>                <p>A brief excerpt from another interesting post that readers might enjoy...</p>                <a href="#" class="related-link">Read More →</a>            </div>            <div class="related-card">                <div class="card-decoration">                    <div class="card-icon">🔍</div>                </div>                <h3>More Fascinating Content</h3>                <p>A brief excerpt from another fascinating post that expands on similar themes...</p>                <a href="#" class="related-link">Read More →</a>            </div>        </div>    </div></section>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Apply animations to comment elements
        const comments = document.querySelectorAll('.comment');
        comments.forEach((comment, i) => {
            comment.classList.add('fade-in');
            comment.classList.add(`fade-in-${(i % 9) + 1}`);
        });
        
        // Apply animations to form container
        const formContainer = document.querySelector('.comment-form-container');
        if (formContainer) {
            formContainer.classList.add('fade-in');
            formContainer.classList.add('fade-in-1');
        }
    });
</script>
{% endblock %}